<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>p09-filesystem-magic-app</title><meta name="description" content="Documentation for p09-filesystem-magic-app"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">p09-filesystem-magic-app</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>p09-filesystem-magic-app</h2></div><div class="tsd-panel tsd-typography"><p><a href="https://classroom.github.com/a/T5K9tzcv"><img src="https://classroom.github.com/assets/deadline-readme-button-24ddc0f5d75046c5622901739e7c5dd533143b0c8e959d652212380cedb1ea36.svg" alt="Review Assignment Due Date"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-AlejandroJ22/actions/workflows/build.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-AlejandroJ22/actions/workflows/build.yml/badge.svg" alt="Sonar-Cloud"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-AlejandroJ22/actions/workflows/coveralls.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-AlejandroJ22/actions/workflows/coveralls.yml/badge.svg" alt="Coveralls"></a></p>
<p><a href="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-AlejandroJ22/actions/workflows/node.js.yml"><img src="https://github.com/ULL-ESIT-INF-DSI-2324/ull-esit-inf-dsi-23-24-prct09-filesystem-magic-app-AlejandroJ22/actions/workflows/node.js.yml/badge.svg" alt="Tests"></a></p>
<a id="md:informe-práctica-9---aplicación-para-coleccionistas-de-cartas-magic" class="tsd-anchor"></a><h1><a href="#md:informe-práctica-9---aplicación-para-coleccionistas-de-cartas-magic">Informe práctica 9 - Aplicación para coleccionistas de cartas Magic.</a></h1><p><img src="images/magic.jpg" alt="Imagen Magic"></p>
<a id="md:alejandro-javier-aguiar-pérez" class="tsd-anchor"></a><h2><a href="#md:alejandro-javier-aguiar-pérez">Alejandro Javier Aguiar Pérez</a></h2><blockquote>
<p><a href="mailto:alu0101487168@ull.edu.es">alu0101487168@ull.edu.es</a></p>
</blockquote>
<a id="md:índice" class="tsd-anchor"></a><h2><a href="#md:índice">Índice</a></h2><ol>
<li><a href="#md:resumen">Resumen</a></li>
<li><a href="#md:chalk">Chalk</a></li>
<li><a href="#md:yargs">Yargs</a></li>
<li><a href="#md:node.js">Node.js</a></li>
<li><a href="#md:magic-app">Magic App</a><ul>
<li><a href="#md:clase-card">Clase Card</a></li>
<li><a href="#md:clase-cardcollection">Clase CardCollection</a></li>
<li><a href="#md:comandos">Comandos</a></li>
</ul>
</li>
<li><a href="#md:ejercicio-pe">Ejercicio PE</a></li>
<li><a href="#md:posibles-mejoras">Posibles mejoras</a></li>
<li><a href="#md:referencias">Referencias</a></li>
</ol>
<a id="md:resumen" class="tsd-anchor"></a><h2><a href="#md:resumen">Resumen</a></h2><p>Está práctica consistía en desarrollar una aplicación para coleccionistas de cartas Magic que permita almacenar y gestionar información sobre las cartas de un usuario. La aplicación deberá permitir añadir, modificar, eliminar, listar y leer la información de las cartas, y la información se almacenará en archivos JSON. Además, la interacción con la aplicación se realizará exclusivamente desde la línea de comandos, sin un menú interactivo.</p>
<p>Los requisitos detallados de la aplicación son los siguientes:</p>
<ul>
<li><p><strong>Gestión de usuarios</strong>: la aplicación permitirá que múltiples usuarios interactúen, pero no simultáneamente.</p>
</li>
<li><p><strong>Información de cartas</strong>: cada carta se describirá con información como ID, nombre, coste de maná, color, tipo, rareza, reglas, poder/resistencia (si es una criatura), lealtad (si es un planeswalker) y valor de mercado.</p>
</li>
<li><p><strong>Operaciones de colección</strong>:</p>
<ul>
<li>Añadir una carta.</li>
<li>Modificar una carta existente.</li>
<li>Eliminar una carta de la colección.</li>
<li>Listar las cartas existentes.</li>
<li>Mostrar información detallada de una carta específica.</li>
</ul>
</li>
<li><p><strong>Persistencia de datos</strong>: la información de las cartas se guardará en archivos JSON, uno por cada usuario, en un directorio específico.</p>
</li>
<li><p><strong>Interfaz de línea de comandos</strong>: la interacción con la aplicación se realizará mediante comandos y opciones desde la línea de comandos, utilizando el paquete yargs.</p>
</li>
<li><p><strong>Colores en los comandos de la consola</strong>: se utilizará el paquete chalk para mostrar mensajes informativos en verde y mensajes de error en rojo en la consola.</p>
</li>
<li><p><strong>Pruebas y Documentación</strong>:</p>
<ul>
<li>Se deberá seguir una metodología de desarrollo dirigido por pruebas/comportamiento (TDD/BDD).</li>
<li>Se incluirán pruebas unitarias para verificar el correcto funcionamiento del código y la robustez ante entradas no válidas.</li>
<li>Se documentará el código utilizando TypeDoc.</li>
<li>Se implementarán flujos de trabajo de GitHub Actions para realizar pruebas en diferentes entornos, enviar datos de cobertura a Coveralls y analizar la calidad y seguridad del código con Sonar Cloud.</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:chalk" class="tsd-anchor"></a><h2><a href="#md:chalk">Chalk</a></h2><p>El paquete <em>chalk</em> es una herramienta utilizada en Node.js para dar formato y colorear texto en la consola. Permite resaltar mensajes de salida, hacerlos más legibles y mejorar la apariencia general de las impresiones por consola. Es especialmente útil para diferenciar mensajes informativos de mensajes de error, o para destacar cierta información importante.</p>
<p>Un ejemplo de como usar <em>chalk</em> puede ser el siguiente:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">chalk</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&quot;chalk&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Colorear texto</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">blue</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es azul&quot;</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">red</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es rojo&quot;</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">green</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es verde&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Combinar estilos</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">blue</span><span class="hl-1">.</span><span class="hl-5">bold</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es azul y negrita&quot;</span><span class="hl-1">));</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">red</span><span class="hl-1">.</span><span class="hl-5">underline</span><span class="hl-1">(</span><span class="hl-3">&quot;Este texto es rojo y subrayado&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Cambiar el color de fondo</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">bgYellow</span><span class="hl-1">.</span><span class="hl-5">black</span><span class="hl-1">(</span><span class="hl-3">&quot;Texto con fondo amarillo&quot;</span><span class="hl-1">));</span><br/><br/><span class="hl-4">// Combinar múltiples estilos</span><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">log</span><span class="hl-1">(</span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-2">red</span><span class="hl-1">.</span><span class="hl-2">bold</span><span class="hl-1">.</span><span class="hl-2">bgWhite</span><span class="hl-1">.</span><span class="hl-5">underline</span><span class="hl-1">(</span><span class="hl-3">&quot;Texto rojo, negrita, subrayado y con fondo blanco&quot;</span><span class="hl-1">));</span>
</code><button>Copy</button></pre>
<p>Aunque en este proyecto he decidido no ahondar demasiado en el uso de chalk ya que no creo que es lo que pretende para esta práctica, así que solo coloree de diferentes maneras los mensajes informativos como se requería.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:yargs" class="tsd-anchor"></a><h2><a href="#md:yargs">Yargs</a></h2><p>El paquete <em>yargs</em> es una herramienta en Node.js que facilita la creación de interfaces de línea de comandos (CLI) de manera sencilla y flexible. Permite definir comandos, opciones y argumentos para tus aplicaciones de línea de comandos de una manera intuitiva y fácil de usar. <em>yargs</em> simplifica la tarea de analizar y procesar los argumentos pasados por línea de comandos en la aplicación.</p>
<p>Un ejemplo de como usar yargs puede ser el siguiente, extraído directamente desde su página web:</p>
<pre><code class="language-ts"><span class="hl-4">// For ESM imports</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">yargs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs&#39;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">hideBin</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;yargs/helpers&#39;</span><br/><br/><span class="hl-5">yargs</span><span class="hl-1">(</span><span class="hl-5">hideBin</span><span class="hl-1">(</span><span class="hl-2">process</span><span class="hl-1">.</span><span class="hl-2">argv</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-5">command</span><span class="hl-1">(</span><span class="hl-3">&#39;curl &lt;url&gt;&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;fetch the contents of the URL&#39;</span><span class="hl-1">, () </span><span class="hl-6">=&gt;</span><span class="hl-1"> {}, (</span><span class="hl-2">argv</span><span class="hl-1">) </span><span class="hl-6">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-5">info</span><span class="hl-1">(</span><span class="hl-2">argv</span><span class="hl-1">)</span><br/><span class="hl-1">  })</span><br/><span class="hl-1">  .</span><span class="hl-5">demandCommand</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">)</span><br/><span class="hl-1">  .</span><span class="hl-5">parse</span><span class="hl-1">()</span>
</code><button>Copy</button></pre>
<p>Tampoco decidí ahondar demasiado en su uso, tan solo lo necesario.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:nodejs" class="tsd-anchor"></a><h2><a href="#md:nodejs">Node.js</a></h2><p>La API síncrona de Node.js para trabajar con el sistema de archivos proporciona métodos que permiten realizar operaciones de lectura y escritura de archivos de forma síncrona, lo que significa que bloquean la ejecución del programa hasta que la operación se complete.</p>
<p>Algunos de los métodos más comunes proporcionados por esta API son:</p>
<ol>
<li><p><em>fs.readFileSync(path[, options])</em>: Este método lee de forma síncrona el contenido de un archivo en el sistema de archivos y devuelve los datos como un objeto Buffer o una cadena, dependiendo de si se especifican las opciones de codificación. Es importante tener en cuenta que este método bloqueará la ejecución del programa hasta que se complete la lectura del archivo.</p>
</li>
<li><p><em>fs.writeFileSync(file, data[, options])</em>: Este método es similar al anterior, pero se utiliza para escribir datos en un archivo de forma síncrona. Si el archivo ya existe, su contenido será reemplazado. Si el archivo no existe, se creará uno nuevo. Al igual que readFileSync, bloquea la ejecución del programa hasta que se complete la escritura del archivo.</p>
</li>
</ol>
<p>*Nota: en este programa sólo se lee el archivo .JSON de manera síncrona, mientras la escritura es asíncrona.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:magic-app" class="tsd-anchor"></a><h2><a href="#md:magic-app">Magic App</a></h2><p>El programa es una aplicación de <strong>línea de comandos</strong> diseñada para permitir a los usuarios gestionar colecciones de cartas del juego Magic: The Gathering. La aplicación permite a los usuarios realizar diversas operaciones sobre sus colecciones, como <strong>añadir</strong>, <strong>modificar</strong>, <strong>eliminar</strong>, <strong>listar</strong> y <strong>leer</strong> información sobre las cartas.</p>
<p>La aplicación utiliza el paquete <em>yargs</em> para parsear los argumentos de la línea de comandos y gestionar los diferentes comandos y opciones asociados a cada operación. Cada comando tiene un manejador asociado que ejecuta el código correspondiente a la operación solicitada por el usuario.</p>
<p>La información de las cartas se almacena en archivos JSON en el sistema de archivos del usuario, utilizando la <strong>API síncrona de Node.js</strong> para trabajar con el sistema de ficheros. Cada usuario tiene su propio archivo JSON que contiene la información de su colección de cartas.</p>
<p>La aplicación también utiliza el paquete <em>chalk</em> para mostrar mensajes <strong>informativos</strong> y de <strong>error</strong> en diferentes colores en la consola, lo que ayuda a mejorar la legibilidad y la presentación de la información para el usuario.</p>
<p>Los elementos más importantes que constituyen el programa son los siguientes:</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:clase-card" class="tsd-anchor"></a><h3><a href="#md:clase-card">Clase Card</a></h3><p>La clase <em>Card</em> representa una carta del juego Magic: The Gathering y tiene las siguientes opciones de diseño:</p>
<ul>
<li><strong>Constructor</strong>: La clase tiene propiedades públicas que representan las características de una carta, como su ID, nombre, coste de mana, color, tipo, rareza, reglas, poder y resistencia (solo para <em>CRIATURAS</em>), lealtad (solo para <em>PLANESWALKERS</em>) y valor. Estas propiedades se inicializan en el constructor y son accesibles desde fuera de la clase. También cuenta con la <strong>validación de atributos específicos</strong> como lo son el poder y la resistencia para las <em>CRIATURAS</em>, o la lealtad para los <em>PLANESWALKERS</em></li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Constructor de la clase Card.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">id</span><span class="hl-4"> El ID de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">name</span><span class="hl-4"> El nombre de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">mana</span><span class="hl-4"> El coste de mana de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardColor</span><span class="hl-4"> El color de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardType</span><span class="hl-4"> El tipo de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardRarity</span><span class="hl-4"> La rareza de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">rules</span><span class="hl-4"> Las reglas de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">powerAndResistance</span><span class="hl-4"> El poder y resistencia de la carta (solo para criaturas).</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">loyalty</span><span class="hl-4"> La lealtad de la carta (solo para planeswalkers).</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">value</span><span class="hl-4"> El valor de la carta.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">constructor</span><span class="hl-1">(</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">id</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">name</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">mana</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">cardColor</span><span class="hl-1">: </span><span class="hl-2">CardColor</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">cardType</span><span class="hl-1">: </span><span class="hl-2">CardType</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">cardRarity</span><span class="hl-1">: </span><span class="hl-2">CardRarity</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">rules</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">powerAndResistance</span><span class="hl-1">: [</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">number</span><span class="hl-1">] | </span><span class="hl-6">null</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">loyalty</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1"> | </span><span class="hl-6">null</span><span class="hl-1">,</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">value</span><span class="hl-1">: </span><span class="hl-2">number</span><span class="hl-1">,</span><br/><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">id</span><span class="hl-1"> = </span><span class="hl-2">id</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">name</span><span class="hl-1"> = </span><span class="hl-2">name</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">mana</span><span class="hl-1"> = </span><span class="hl-2">mana</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1"> = </span><span class="hl-2">cardColor</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardType</span><span class="hl-1"> = </span><span class="hl-2">cardType</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardRarity</span><span class="hl-1"> = </span><span class="hl-2">cardRarity</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardType</span><span class="hl-1"> === </span><span class="hl-2">CardType</span><span class="hl-1">.</span><span class="hl-8">CREATURE</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">powerAndResistance</span><span class="hl-1"> === </span><span class="hl-6">null</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Una carta del tipo CRIATURA debe de tener asociada un atributo de fuerza/resistencia.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">powerAndResistance</span><span class="hl-1"> = </span><span class="hl-2">powerAndResistance</span><span class="hl-1">;</span><br/><span class="hl-1">  } </span><span class="hl-0">else</span><span class="hl-1"> </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardType</span><span class="hl-1"> === </span><span class="hl-2">CardType</span><span class="hl-1">.</span><span class="hl-8">PLANESWALKER</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-2">loyalty</span><span class="hl-1"> === </span><span class="hl-6">null</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-0">throw</span><span class="hl-1"> </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Error</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">&quot;Una carta del tipo PLANESWALKER debe de tener asociada un atributo de lealtad.&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">      );</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">loyalty</span><span class="hl-1"> = </span><span class="hl-2">loyalty</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">value</span><span class="hl-1"> = </span><span class="hl-2">value</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>Método de representación de atributos</strong>: la clase proporciona un método <em>attributes()</em> que devuelve una cadena con todas las características de la carta formateadas. Este método utiliza el paquete <em>chalk</em> para resaltar el color del texto en función del color de la carta.</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Método que devuelve una representación en cadena de las características de la carta.</span><br/><span class="hl-4"> * </span><span class="hl-6">@returns</span><span class="hl-4"> Una cadena que contiene las características de la carta.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">attributes</span><span class="hl-1">(): </span><span class="hl-2">string</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-6">let</span><span class="hl-1"> </span><span class="hl-2">attributes</span><span class="hl-1"> = </span><span class="hl-3">&quot;Card Attributes:</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`ID: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">id</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Name: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">name</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Mana: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">mana</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Color: `</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">switch</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">WHITE</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">white</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">BLUE</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">blue</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">BLACK</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">black</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">RED</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">red</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">GREEN</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">green</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">COLORLESS</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">gray</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">case</span><span class="hl-1"> </span><span class="hl-2">CardColor</span><span class="hl-1">.</span><span class="hl-8">MULTICOLORED</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-2">chalk</span><span class="hl-1">.</span><span class="hl-5">yellow</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1">) + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">      </span><span class="hl-0">break</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-0">default</span><span class="hl-1">:</span><br/><span class="hl-1">      </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cardColor</span><span class="hl-1"> + </span><span class="hl-3">&quot;</span><span class="hl-9">\n</span><span class="hl-3">&quot;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Type: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">cardType</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Rarity: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">cardRarity</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Rules: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">rules</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">powerAndResistance</span><span class="hl-1"> !== </span><span class="hl-6">null</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Power: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">powerAndResistance</span><span class="hl-10">[</span><span class="hl-7">0</span><span class="hl-10">]</span><span class="hl-6">}</span><span class="hl-3">, Resistance: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">powerAndResistance</span><span class="hl-10">[</span><span class="hl-7">1</span><span class="hl-10">]</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">loyalty</span><span class="hl-1"> !== </span><span class="hl-6">null</span><span class="hl-1">) </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Loyalty: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">loyalty</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-2">attributes</span><span class="hl-1"> += </span><span class="hl-3">`Value: </span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">value</span><span class="hl-6">}</span><span class="hl-9">\n</span><span class="hl-3">`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">return</span><span class="hl-1"> </span><span class="hl-2">attributes</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:clase-cardcollection" class="tsd-anchor"></a><h3><a href="#md:clase-cardcollection">Clase CardCollection</a></h3><p>Esta clase representa una colección de cartas en el juego de Magic: The Gathering. Al principio en el programa se intento usar un array de objetos del tipo carta, pero al final se optó por usar un mapa de cartas  basado en su id, ya que la implementaciónd de los métodos necesarios es mucho más cómodo así. Esta clase cuenta con:</p>
<ul>
<li><strong>Interfaz pública</strong>: La clase implementa una interfaz <em>CardCollectionInterface</em> que describe los métodos públicos que puede utilizar un usuario para interactuar con la colección de cartas. Estos métodos incluyen <em>addCard()</em>, <em>updateCard()</em>, <em>removeCard()</em>, <em>listCards()</em> y <em>showCardInfo()</em>.</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * Interfaz que describe los métodos públicos de la clase CardCollection.</span><br/><span class="hl-4"> */</span><br/><span class="hl-0">export</span><span class="hl-1"> </span><span class="hl-6">interface</span><span class="hl-1"> </span><span class="hl-11">CardCollectionInterface</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Método que añade una nueva carta a la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">newCard</span><span class="hl-4"> La nueva carta que se va a añadir.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">addCard</span><span class="hl-1">(</span><span class="hl-2">newCard</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Método que actualiza una carta en la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">modifiedCard</span><span class="hl-4"> La carta modificada que se va a actualizar.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">updateCard</span><span class="hl-1">(</span><span class="hl-2">modifiedCard</span><span class="hl-1">: </span><span class="hl-11">Card</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Método que elimina una carta de la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardId</span><span class="hl-4"> El ID de la carta que se va a eliminar.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">removeCard</span><span class="hl-1">(</span><span class="hl-2">cardId</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">): </span><span class="hl-11">void</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Método que devuelve una cadena con la lista de cartas en la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@returns</span><span class="hl-4"> Una cadena con la lista de cartas en la colección.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">listCards</span><span class="hl-1">(): </span><span class="hl-11">string</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">/**</span><br/><span class="hl-4">   * Método que devuelve información detallada de una carta específica en la colección.</span><br/><span class="hl-4">   * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">cardId</span><span class="hl-4"> El ID de la carta de la cual se quiere obtener la información.</span><br/><span class="hl-4">   * </span><span class="hl-6">@returns</span><span class="hl-4"> Una cadena con la información detallada de la carta.</span><br/><span class="hl-4">   */</span><br/><span class="hl-1">  </span><span class="hl-5">showCardInfo</span><span class="hl-1">(</span><span class="hl-2">cardId</span><span class="hl-1">: </span><span class="hl-11">number</span><span class="hl-1">): </span><span class="hl-11">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><strong>Constructor</strong>: El constructor de <em>CardCollection</em> toma el nombre de usuario asociado a la colección y crea un mapa para almacenar las cartas. También inicializa la ruta del archivo de la colección y carga las cartas desde el archivo si existe.</li>
</ul>
<pre><code class="language-ts"><span class="hl-4">/**</span><br/><span class="hl-4"> * El nombre de usuario asociado a la colección.</span><br/><span class="hl-4"> */</span><br/><span class="hl-2">public</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-12">username</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">;</span><br/><span class="hl-4">/**</span><br/><span class="hl-4"> * La ruta del archivo de la colección.</span><br/><span class="hl-4"> */</span><br/><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-2">readonly</span><span class="hl-1"> </span><span class="hl-12">collectionPath</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">;</span><br/><span class="hl-4">/**</span><br/><span class="hl-4"> * Mapa que contiene las cartas en la colección, donde la clave es el ID de la carta.</span><br/><span class="hl-4"> */</span><br/><span class="hl-2">private</span><span class="hl-1"> </span><span class="hl-12">cards</span><span class="hl-1">: </span><span class="hl-2">Map</span><span class="hl-1">&lt;</span><span class="hl-2">number</span><span class="hl-1">, </span><span class="hl-2">Card</span><span class="hl-1">&gt;;</span><br/><br/><span class="hl-4">/**</span><br/><span class="hl-4"> * Constructor de la clase CardCollection.</span><br/><span class="hl-4"> * </span><span class="hl-6">@param</span><span class="hl-4"> </span><span class="hl-2">username</span><span class="hl-4"> El nombre de usuario asociado a la colección.</span><br/><span class="hl-4"> */</span><br/><span class="hl-5">constructor</span><span class="hl-1">(</span><span class="hl-2">username</span><span class="hl-1">: </span><span class="hl-2">string</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">username</span><span class="hl-1"> = </span><span class="hl-2">username</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">collectionPath</span><span class="hl-1"> = </span><span class="hl-3">`./collections/</span><span class="hl-6">${</span><span class="hl-6">this</span><span class="hl-10">.</span><span class="hl-2">username</span><span class="hl-6">}</span><span class="hl-3">.json`</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">cards</span><span class="hl-1"> = </span><span class="hl-6">new</span><span class="hl-1"> </span><span class="hl-5">Map</span><span class="hl-1">&lt;</span><span class="hl-11">number</span><span class="hl-1">, </span><span class="hl-11">Card</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Si el archivo de colección no existe, escribirlo</span><br/><span class="hl-1">  </span><span class="hl-0">if</span><span class="hl-1"> (!</span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-5">existsSync</span><span class="hl-1">(</span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-2">collectionPath</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">writeCards</span><span class="hl-1">();</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">this</span><span class="hl-1">.</span><span class="hl-5">loadCards</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code><button>Copy</button></pre>
<ul>
<li><p><strong>Métodos de carga y escritura</strong>: La clase tiene dos métodos <em>loadCards()</em> y <em>writeCards()</em> para cargar las cartas desde el archivo y escribir las cartas en el archivo, respectivamente. Estos métodos utilizan la <strong>API síncrona de Node.js</strong> para trabajar con el sistema de archivos.
typescript. Antes apunte como nota que la escritura se hace de manera asíncrona pero la lectura de manera síncrona y es que luego de toparme con varios errores me dí cuenta de que el programa no esperaba a leer los datos para inicializar el mapa de cartas, por lo que siempre estaba vacío dicho mapa, debido a la naturaleza no bloqueante de Node.js. Para arreglar esto simplemente cambié la función de lectura asíncrona a una síncrona y ya. Decidí dejar la escritura como asíncrona ya que con Node.js no se va a dar el caso en el que la escritura se realice antes que las operaciones que realice sobre el mapa de cartas.</p>
</li>
<li><p><strong>Métodos de interacción con la colección</strong>: Los métodos <em>addCard()</em>, <em>updateCard()</em>, <em>removeCard()</em>, <em>listCards()</em> y <em>showCardInfo()</em> permiten al usuario <strong>agregar</strong>, <strong>actualizar</strong>, <strong>eliminar</strong>, <strong>listar</strong> y <strong>ver</strong> información detallada de las cartas en la colección. Si la función modifica algo de la colección se hace una llamada a <em>writeCards()</em> para guardar el estado de la colección en el .JSON.</p>
</li>
</ul>
<p><strong>Nota</strong>: se prefiere el uso de <em>console.log()</em> para indicar los fallos ya que al estar orientado a comandos no nos hace falta un control tan preciso del flujo de errores como si el programa se ejecutase continuamente y porque daba problemas con el uso de <em>chalk</em>.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:comandos" class="tsd-anchor"></a><h3><a href="#md:comandos">Comandos</a></h3><p>En este apartado no me voy a parar durante demasiado tiempo ya que no hay mucho que destacar, simplemente se crean diferentes comandos con varios argumentos con los que poder usar la clase <em>CardCollection</em> ya mencionada. En resumen, es un fichero que declara esos diferentes comandos y hace de traductor entre los argumentos introducidos por el usuario y la colección de cartas.</p>
<p>Si se quieren ver los comandos que se pueden usar con el programa basta con ejecutar el siguiente comando desde la carpeta main del proyecto:</p>
<pre><code class="language-bash"><span class="hl-5">node</span><span class="hl-1"> </span><span class="hl-3">dist/src/magic/magic-app.js</span><span class="hl-1"> </span><span class="hl-6">--help</span>
</code><button>Copy</button></pre>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:ejercicio-pe" class="tsd-anchor"></a><h2><a href="#md:ejercicio-pe">Ejercicio PE</a></h2><p>El ejercicio planteado en la modificación de la práctica semanal fue el de usar el patrón de diseño <em>Template Method</em> para una clase que buscaba el poder realizar de diferentes maneras el método reduce() de array.prototype() para una lista de números, aunque no me acordé de usar el <em>método plantilla</em> ni de agrergar los <em>hooks</em>. En su lugar creé clase abstracta llamada <em>FilterMapReduce</em> y varias clases concretas que extienden esta clase base.</p>
<p>La clase abstracta <em>FilterMapReduce</em> proporciona métodos para filtrar, mapear y reducir una lista de números. Los métodos Filter y Map están implementados en la clase base, mientras que el método <em>Reduce()</em> es un método abstracto que debe ser implementado por las clases hijas.</p>
<p>Las clases concretas que extienden <em>FilterMapReduce</em> son <em>FilterMapAddReduce</em>, <em>FilterMapSubReduce</em>, <em>FilterMapProdReduce</em> y <em>FilterMapDivReduce</em>, cada una implementando el método Reduce de manera diferente para realizar una operación de <strong>suma</strong>, <strong>resta</strong>, <strong>producto</strong> o <strong>división</strong>, respectivamente, en la lista de números.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:posibles-mejoras" class="tsd-anchor"></a><h2><a href="#md:posibles-mejoras">Posibles mejoras</a></h2><p>Una de las posibles mejoras sobre este proyecto de coleccion de cartas de Magic podría ser la capacidad de imprimir de mejor manera los errores que ocurren en la ejecución del programa, las pruebas unitarias creo que cumplen su papel pero se debería de trabajar más en ellas ya que no cubren ni siquiera el 90% del porgrama y otra queja posible que se podría abordar en un futuro sería el de ir modificando el .JSON en lugar de borrarlo todo y volverlo a cargar de cero, ya que es un problema bastante grave de rendimiento.</p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
<a id="md:referencias" class="tsd-anchor"></a><h2><a href="#md:referencias">Referencias</a></h2><p><a href="https://www.npmjs.com/package/chalk">Chalk</a>
<a href="https://www.npmjs.com/package/yargs">Yargs</a>
<a href="https://nodejs.org/docs/latest/api/fs.html">Node.js</a>
<a href="https://ull-esit-inf-dsi-2324.github.io/nodejs-theory/nodejs-filesystem-childproc.html">Apuntes asignatura sobre Node.js</a></p>
<blockquote>
<p><strong><a href="#md:índice">Volver al índice</a></strong></p>
</blockquote>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-index-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><h4 class="uppercase">Member Visibility</h4><form><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-private" name="private"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Private</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div><div class="tsd-theme-toggle"><h4 class="uppercase">Theme</h4><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-index-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:informe-práctica-9---aplicación-para-coleccionistas-de-cartas-magic"><span>Informe práctica 9 -<wbr/> <wbr/>Aplicación para coleccionistas de cartas <wbr/>Magic.</span></a><ul><li><a href="#md:alejandro-javier-aguiar-pérez"><span>Alejandro <wbr/>Javier <wbr/>Aguiar <wbr/>Pérez</span></a></li><li><a href="#md:índice"><span>Índice</span></a></li><li><a href="#md:resumen"><span>Resumen</span></a></li><li><a href="#md:chalk"><span>Chalk</span></a></li><li><a href="#md:yargs"><span>Yargs</span></a></li><li><a href="#md:nodejs"><span>Node.js</span></a></li><li><a href="#md:magic-app"><span>Magic <wbr/>App</span></a></li><li><ul><li><a href="#md:clase-card"><span>Clase <wbr/>Card</span></a></li><li><a href="#md:clase-cardcollection"><span>Clase <wbr/>Card<wbr/>Collection</span></a></li><li><a href="#md:comandos"><span>Comandos</span></a></li></ul></li><li><a href="#md:ejercicio-pe"><span>Ejercicio PE</span></a></li><li><a href="#md:posibles-mejoras"><span>Posibles mejoras</span></a></li><li><a href="#md:referencias"><span>Referencias</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>p09-filesystem-magic-app</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><div class="tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div></body></html>